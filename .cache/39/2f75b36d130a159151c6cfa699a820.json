{"id":"../node_modules/react-avatar/es/cache.js","dependencies":[{"name":"C:\\Users\\Dell\\CodeShare\\package.json","includedInParent":true,"mtime":1686079759432},{"name":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\package.json","includedInParent":true,"mtime":1685047700984},{"name":"@babel/runtime/helpers/classCallCheck","loc":{"line":1,"column":28,"index":28},"parent":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\es\\cache.js","resolved":"C:\\Users\\Dell\\CodeShare\\node_modules\\@babel\\runtime\\helpers\\classCallCheck.js"},{"name":"@babel/runtime/helpers/createClass","loc":{"line":2,"column":25,"index":94},"parent":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\es\\cache.js","resolved":"C:\\Users\\Dell\\CodeShare\\node_modules\\@babel\\runtime\\helpers\\createClass.js"},{"name":"core-js-pure/stable/json/stringify.js","loc":{"line":3,"column":28,"index":160},"parent":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\es\\cache.js","resolved":"C:\\Users\\Dell\\CodeShare\\node_modules\\core-js-pure\\stable\\json\\stringify.js"},{"name":"core-js-pure/stable/instance/filter.js","loc":{"line":4,"column":36,"index":237},"parent":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\es\\cache.js","resolved":"C:\\Users\\Dell\\CodeShare\\node_modules\\core-js-pure\\stable\\instance\\filter.js"},{"name":"core-js-pure/stable/instance/slice.js","loc":{"line":5,"column":35,"index":314},"parent":"C:\\Users\\Dell\\CodeShare\\node_modules\\react-avatar\\es\\cache.js","resolved":"C:\\Users\\Dell\\CodeShare\\node_modules\\core-js-pure\\stable\\instance\\slice.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Cache = exports.CACHE_PREFIX = exports.CACHE_KEY_FAILING = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _stringify = _interopRequireDefault(require(\"core-js-pure/stable/json/stringify.js\"));\n\nvar _filter = _interopRequireDefault(require(\"core-js-pure/stable/instance/filter.js\"));\n\nvar _slice = _interopRequireDefault(require(\"core-js-pure/stable/instance/slice.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CACHE_PREFIX = 'react-avatar/';\nexports.CACHE_PREFIX = CACHE_PREFIX;\nvar CACHE_KEY_FAILING = 'failing';\nexports.CACHE_KEY_FAILING = CACHE_KEY_FAILING;\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2.default)(this, Cache);\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  (0, _createClass2.default)(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = (0, _stringify.default)(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = (0, _filter.default)(cacheList).call(cacheList, function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = (0, _slice.default)(cacheList).call(cacheList, 0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n  return Cache;\n}();\n\nexports.Cache = Cache;\n\nvar _default = new Cache();\n\nexports.default = _default;"},"sourceMaps":null,"error":null,"hash":"b5fe8ce0755996c0de36bc40d78edfe4","cacheData":{"env":{}}}